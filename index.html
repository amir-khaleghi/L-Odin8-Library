<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <!-- TAILWIND CDN ________________________ -->
    <script src="https://cdn.tailwindcss.com"></script>

    <title>Library</title>
    <link rel="stylesheet" href="style.css" />
    <!--Bootstrap CSS Import-->
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css"
    />
    <!--Fontawesome import-->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
      integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    />
    <script
      src="https://kit.fontawesome.com/d1d6edd90f.js"
      crossorigin="anonymous"
    ></script>
    <link rel="shortcut icon" href="ico/favicon.ico" type="image/x-icon" />
  </head>

  <body
    class="flex flex-col content-center justify-center p-8 m-10 shadow-lg mx-30 rounded-2xl auto-rows-min"
  >
    <!-- HEADER ________________________________ -->
    <header class="flex items-center justify-between gap-20 p-4 mx-2">
      <div class="flex items-center justify-center gap-3 align-center">
        <h1>Your Library</h1>
        <div class="logo-container">
          <i class="fa-solid fa-book-bookmark fa-2xl"></i>
        </div>
      </div>
      <div class="p-4 stats-container">
        <div class="total-label-container">
          <span class="total-label">Total books:</span>
          <span id="books-count"></span>
        </div>
        <div class="total-label-container">
          <span class="total-label">Read:</span>
          <span id="read-count"></span>
        </div>
        <div class="total-label-container">
          <span class="total-label">Not Read:</span>
          <span id="not-read-count"></span>
        </div>
      </div>
    </header>
    <!-- TABLE _______________________________ -->
    <section
      class="flex items-center justify-center table col-start-1 col-end-3 gap-10 table-auto align-center"
    >
      <nav id="nav-bar"></nav>
      <div
        id="main-container"
        class="flex items-center content-center justify-center h-auto align-center"
      >
        <table class="right-0">
          <thead>
            <tr>
              <th>
                Title
                <i id="sort-title" class="fas fa-chevron-up sort-arrow"></i>
              </th>
              <th>
                Author
                <i id="sort-author" class="fas fa-chevron-up sort-arrow"></i>
              </th>
              <th>
                Language
                <i id="sort-language" class="fas fa-chevron-up sort-arrow"></i>
              </th>
              <th>
                Publish Date
                <i
                  id="sort-publishDate"
                  class="fas fa-chevron-up sort-arrow"
                ></i>
              </th>
              <th>
                Pages
                <i id="sort-numPages" class="fas fa-chevron-up sort-arrow"></i>
              </th>
              <th>Read</th>
            </tr>
          </thead>
          <tbody id="table-books"></tbody>
        </table>
      </div>
      <div
        id="add-btn-container"
        class="flex items-center content-center justify-center h-auto m-6 align-center"
      >
        <button
          id="add-button"
          type="button"
          class="px-2 py-1 transition duration-700 ease-in-out rounded-lg shadow-lg bg-cyan-200 hover:scale-125"
          data-toggle="modal"
          data-target="#formModal"
        >
          New Book
          <i class="fas fa-plus"></i>
        </button>
      </div>
    </section>
    <!-- FOOTER ______________________________ -->
    <section
      class="flex items-center justify-center col-start-1 col-end-3 footer align-center"
    >
      <span>Built & designed by Amir Khaleghi | </span>
      <a
        href="https://github.com/amir-khaleghi/L-Odin8-Library"
        target="_blank"
      >
        <i class="p-2 fa-brands fa-github fa-lg" style="color: #000000"></i>
      </a>
    </section>
    <!-- ▤▤▤▤▤▤▤▤▤▤▤▤▤▤▤▤▤ modal ▤▤▤▤▤▤▤▤▤▤▤▤▤▤▤▤▤ -->
    <!--Form Modal-->
    <div
      class="modal fade"
      id="formModal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="formModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <!--Modal Header-->
          <div class="modal-header">
            <h5 class="modal-title" id="formModalLabel">New Book</h5>
            <button type="button" class="close" data-dismiss="modal">
              &times;
            </button>
          </div>
          <!--Modal Body-->
          <div class="modal-body">
            <form method="GET" id="form-book">
              <div class="form-group">
                <label for="title">Title</label>
                <input type="text" class="form-control" id="title" required />
                <div class="invalid-feedback">Please provide a valid title</div>
              </div>
              <div class="form-group">
                <label for="author">Author</label>
                <input type="text" class="form-control" id="author" required />
                <div class="invalid-feedback">
                  Please provide a valid author
                </div>
              </div>
              <div class="form-group">
                <label for="language">Language</label>
                <input
                  type="text"
                  class="form-control"
                  id="language"
                  required
                />
                <div class="invalid-feedback">
                  Please provide a valid language
                </div>
              </div>
              <div class="form-group row">
                <div class="col">
                  <label for="publishDate">Publish Date</label>
                  <input
                    type="date"
                    class="form-control"
                    id="publishDate"
                    required
                  />
                  <div class="invalid-feedback">Please provide a date</div>
                </div>
                <div class="col">
                  <label for="pages">Pages</label>
                  <input
                    type="number"
                    class="form-control"
                    id="pages"
                    min="1"
                    required
                  />
                  <div class="invalid-feedback">
                    Please provide a valid number
                  </div>
                </div>
              </div>
              <div class="custom-control custom-switch">
                <input class="custom-control-input" type="checkbox" id="read" />
                <label class="custom-control-label" for="read">Read?</label>
              </div>
            </form>
          </div>
          <!--Modal footer-->
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary"
              data-dismiss="modal"
            >
              Close
            </button>
            <button
              type="submit"
              class="btn btn-primary"
              form="form-book"
              id="btn-form"
            >
              Save changes
            </button>
          </div>
        </div>
      </div>
    </div>

    <!--Confirm Modal-->
    <div
      class="modal fade"
      id="confirmModal"
      tabindex="-1"
      role="dialog"
      aria-labelledby="confirmModalLabel"
      aria-hidden="true"
    >
      <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content">
          <!--Modal Header-->
          <div class="modal-header">
            <h5 class="modal-title" id="confirmModalLabel">Confirm delete</h5>
            <button type="button" class="close" data-dismiss="modal">
              &times;
            </button>
          </div>
          <!--Modal Body-->
          <div class="modal-body">
            <span>You are about to delete:</span>
            <div id="elem-to-delete"></div>
            <span>Are you sure?</span>
          </div>
          <!--Modal footer-->
          <div class="modal-footer">
            <button
              type="button"
              class="btn btn-secondary btn-cancel"
              data-dismiss="modal"
            >
              Cancel
            </button>
            <button
              type="button"
              class="btn btn-danger"
              id="btn-confirm-delete"
            >
              Delete
            </button>
          </div>
        </div>
      </div>
    </div>

    <!--JQuery Import-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <!--Bootstrap JS Import-->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="./persistance.js"></script>
    <script src="./script.js"></script>
    <script src="./form.js"></script>
  </body>
</html>
